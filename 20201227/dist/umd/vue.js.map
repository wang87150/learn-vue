{"version":3,"file":"vue.js","sources":["../../src/compile/parser.js","../../src/compile/generate.js","../../src/compile/index.js","../../src/observe/dep.js","../../src/util/index.js","../../src/observe/scheduler.js","../../src/observe/watcher.js","../../src/vdom/patch.js","../../src/lifecycle.js","../../src/utils.js","../../src/observe/array.js","../../src/observe/index.js","../../src/state.js","../../src/initMixin.js","../../src/vdom/index.js","../../src/render.js","../../src/index.js"],"sourcesContent":["const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;    //标签名\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\r\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\nfunction createElement(tagName, attrs) {\r\n    return {\r\n        tag: tagName,\r\n        parent: null,\r\n        children: [],\r\n        attrs,\r\n        type: 1,\r\n        text: ''\r\n    }\r\n}\r\n\r\nlet stack = [];\r\nlet root = null;\r\n//开始标签\r\nfunction start(tagName, attrs) {\r\n    \r\n    let parent = stack[stack.length - 1];\r\n    let element = createElement(tagName, attrs);\r\n    if (!root) {\r\n        root = element;\r\n    }\r\n    if (parent) {\r\n        element.parent = parent;\r\n        parent.children.push(element);\r\n    }\r\n    stack.push(element);\r\n}\r\n\r\nfunction end(tagName) {\r\n    let last = stack.pop();\r\n    if (last.tag !== tagName) {\r\n        throw new Error('标签有误！！！！');\r\n    }\r\n}\r\n\r\nfunction chars(text) {\r\n    text = text.replace(/\\s/g, \"\");\r\n    let element = stack[stack.length - 1];\r\n    if (text) {\r\n        element.children.push({\r\n            type: 3,\r\n            text\r\n        })\r\n    }\r\n}\r\n\r\nexport function parseHtml(html) {\r\n    while (html) {\r\n        let textEnd = html.indexOf('<');\r\n        if (textEnd == 0) {\r\n\r\n            //有可能是开始标签<div>   也有可能是结束标签</div>\r\n            let startTagMatch = parseStartTag();\r\n            if (startTagMatch) {\r\n                //如果是开始标签\r\n                start(startTagMatch.tagName, startTagMatch.attrs);\r\n                continue;\r\n            }\r\n\r\n            let endTagMatch = html.match(endTag);\r\n            if (endTagMatch) {\r\n                advance(endTagMatch[0].length);\r\n                end(endTagMatch[1]);\r\n                continue;\r\n            }\r\n        }\r\n\r\n        let text;\r\n        if (textEnd > 0) {\r\n            text = html.substring(0, textEnd);\r\n        }\r\n        if (text) {\r\n            advance(text.length);\r\n            chars(text);\r\n        }\r\n    }\r\n\r\n    function parseStartTag() {\r\n        let mMatch = html.match(startTagOpen);\r\n        if (mMatch) {\r\n            //如果是开始标签\r\n            const match = {\r\n                tagName: mMatch[1],\r\n                attrs: []\r\n            }\r\n            //然后截取字符串\r\n            advance(mMatch[0].length);\r\n\r\n            //然后再解析标签属性，\r\n            let attr, end;\r\n            //因为只能解析一个属性，所以需要使用while循环\r\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n                //如果标签没有结束且有属性\r\n                match.attrs.push({\r\n                    name: attr[1],\r\n                    value: attr[3] || attr[4] || attr[5]\r\n                })\r\n                advance(attr[0].length);\r\n            }\r\n            if (end) {\r\n                //匹配到结束标签\r\n                advance(end[0].length);\r\n            }\r\n            return match;\r\n        }\r\n    }\r\n\r\n    function advance(length) {\r\n        html = html.substring(length);\r\n    }\r\n\r\n    return root;\r\n}\r\n\r\n","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\n\r\nexport function generate(root) {    //_c('div', {id: 'a', attr: 'b'}, _v('Hello'))\r\n    let children = getChildStr(root.children);  //'Hello' + arr + 'World'\r\n    let str = `_c('${root.tag}',${\r\n        root.attrs.length ? getAttrStr(root.attrs) : 'undefined'\r\n    }${\r\n        children ? `,${children}`: ''\r\n    })`;\r\n\r\n    return str;\r\n}\r\n\r\nfunction getChildStr(children) {\r\n    let str = '';\r\n    if (children) {\r\n        return children.map(child => {\r\n            return gen(child);\r\n        }).join(',');\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction gen(child) {\r\n    if (child.type == '1') {\r\n        return generate(child);\r\n    }\r\n    if (child.type == '3') {\r\n        let text = child.text;\r\n        if (!defaultTagRE.test(text)) {\r\n            //匹配不到\r\n            return `_v('${text}')`;\r\n        } else {\r\n            //能匹配到，需要用正则不停的匹配，分割字符串 //'Hello' + arr + 'World'\r\n            let strs = [];\r\n            let match;\r\n\r\n            let lastIndex = defaultTagRE.lastIndex = 0;\r\n            while(match = defaultTagRE.exec(text)) {\r\n                let index = match.index;\r\n                strs.push(JSON.stringify(text.slice(lastIndex, index)));\r\n                lastIndex = index + match[0].length;\r\n                strs.push(`_s(${match[1].trim()})`);\r\n            }\r\n            strs.push(JSON.stringify(text.slice(lastIndex)));\r\n            return `_v(${strs.join('+')})`;\r\n        }\r\n\r\n        \r\n    }\r\n}\r\n\r\nfunction getAttrStr(attrs) {\r\n    let attrsStrs = attrs.map((item) => {\r\n        if (item.name == 'style') {\r\n            let styleObj = {};\r\n            item.value.replace(/([^:;]+)\\:\\s*([^:;]+)/g, function() {\r\n                styleObj[arguments[1]] = arguments[2];\r\n            })\r\n            return `style: ${JSON.stringify(styleObj)}`;\r\n        }\r\n        return `${item.name}:${JSON.stringify(item.value)}`;\r\n    });\r\n    return `{${attrsStrs.join(',')}}`\r\n}","\r\nimport {parseHtml} from './parser.js'\r\nimport {generate} from './generate.js'\r\n\r\n\r\nexport function compileToFunction(template) {\r\n  let ast = parseHtml(template);  //编译模板 生成ast树  \r\n  /**\r\n   * {\r\n   *  tag: 'div',\r\n   *  attrs: [{name: 'id', value: 'app'}, {name: 'style', value: {color: red ; font-size: 12px ;}],\r\n   *  parent: null,\r\n   *  text: '',\r\n   *  type: 1,    //1-节点；3-文本\r\n   *  children: []\r\n   * }\r\n   */\r\n  let code = generate(ast);       //将ast树生成render函数字符串\r\n  /** _c(标签，属性，孩子)\r\n   * _c('div', {id: 'app', :class: 'main', style: {\"color\":\"red \",\" font-size\":\"12px \"}}, \r\n   *  _c('h1', undefine, _v(\"\" + _s(msg) + \"\")))\r\n   */\r\n  let render = new Function(`with(this){return ${code}}`);\r\n  return render;\r\n}","let uid = 0;\r\nclass Dep {\r\n  constructor() {\r\n    this.uid = uid++;\r\n    this.watchers = [];  //收集\r\n  }\r\n  depend() {\r\n    if(Dep.target) {\r\n      Dep.target.addDep(this);  //将dep添加进watcher中\r\n    } else {\r\n      // console.log('没有了');\r\n    }\r\n  }\r\n\r\n  addWatcher(watcher) {\r\n    this.watchers.push(watcher);\r\n  }\r\n  notify() {\r\n    this.watchers.forEach(watcher => {\r\n      watcher.update();\r\n    })\r\n  }\r\n  run() {\r\n    this.watchers.forEach(watcher => {\r\n      watcher.update();\r\n    })\r\n  }\r\n}\r\n\r\nDep.target = null;\r\nconst stack = [];\r\nexport function pushTarget(watcher) {\r\n  Dep.target = watcher;\r\n  stack.push(watcher);\r\n}\r\nexport function popTarget() {\r\n  stack.pop();\r\n  Dep.target = stack[stack.length - 1];\r\n}\r\n\r\nexport default Dep;\r\n","let cbs = [];\r\nlet waiting = false;\r\n\r\nfunction timer(cb) {\r\n  Promise.resolve().then(() => {\r\n    cb();\r\n  })\r\n}\r\n\r\nfunction flushCallbacks() {\r\n  cbs.forEach(cb => {\r\n    cb();\r\n  })\r\n  waiting = true;\r\n}\r\n\r\nexport function nextTick(cb, delay = 0) {\r\n  if (typeof cb == 'function') {\r\n    cbs.push(cb);\r\n    if (!waiting) {\r\n      timer(flushCallbacks);\r\n    }\r\n  }\r\n}","import { nextTick } from \"../util/index.js\";\r\n\r\nlet pending = false;\r\nlet ids = [];\r\nlet queue = [];\r\n\r\nfunction flushSchedule() {\r\n  queue.forEach(watcher => {\r\n    watcher.run();\r\n  })\r\n}\r\n\r\nexport function queueWatchers(watcher) {\r\n  let id = watcher.uid;\r\n  if (!ids.includes(id)) {\r\n    //没有存过这个watcher，将他存起来\r\n    queue.push(watcher);\r\n    ids.push(id);\r\n    if (!pending) {\r\n      nextTick(flushSchedule, 0);\r\n      pending = true;\r\n    }\r\n  }\r\n}","import { popTarget, pushTarget } from \"./dep\";\r\nimport { queueWatchers } from \"./scheduler\";\r\n\r\nlet uid = 0;\r\n\r\nclass Watcher {\r\n  constructor(vm, updateOrFn, afterUpdate, options) {\r\n    this.uid = uid++;\r\n    this.vm = vm;\r\n    this.updateOrFn = updateOrFn;\r\n    this.cb = afterUpdate;\r\n    this.options = options;\r\n    this.user = !!options.user;  //双重否定赋值给user-boolean 类型\r\n    this.lazy = !!options.lazy;  //双重否定赋值给user-boolean 类型\r\n    this.dirty = !!options.lazy;\r\n    if (typeof updateOrFn === 'string') {\r\n      //如果是字符串类型，\r\n      this.getter = function() {\r\n        let names = updateOrFn.split('.');\r\n        return names.reduce((preV, curV) => {\r\n          return preV[curV]\r\n        }, vm);\r\n      }\r\n    } else {\r\n      this.getter = updateOrFn; //执行它 会加载变量数据，到变量的get方法\r\n    }\r\n    \r\n    this.deps = [];       //收集deps，主要是为了计算watcher跟watch使用。\r\n    this.depIds = [];      //手机dep的id，防止重复添加\r\n\r\n    //默认加载一次\r\n    this.value = options.lazy ? undefined : this.get();\r\n  }\r\n\r\n  get() {\r\n    pushTarget(this);//将当前的watcher存放到dep中\r\n    let newValue = this.getter.call(this.vm);\r\n    popTarget();  //取出watcher\r\n    \r\n    return newValue;\r\n  }\r\n\r\n  addDep(dep) {\r\n    let depId = dep.uid;\r\n    if (!this.depIds.includes(depId)) {\r\n      //没有添加过，\r\n      this.deps.push(dep);\r\n      this.depIds.push(depId);\r\n      dep.addWatcher(this);\r\n    }\r\n  }\r\n\r\n  depend() {\r\n    let i = this.deps.length;\r\n    while(i--) {\r\n      let dep = this.deps[i];\r\n      dep.depend();\r\n    }\r\n  }\r\n\r\n  update() {\r\n    //vue中的更新是异步的，等待所有的变量赋值完毕后，一把更新\r\n    //---所以需要先将watcher缓存起来，最后在调用run方法\r\n    if (this.lazy) {\r\n      this.dirty = true;\r\n    } else {\r\n      queueWatchers(this);\r\n    }\r\n    \r\n  }\r\n\r\n  evaluate() {\r\n    this.dirty = false;\r\n    this.value = this.get();\r\n  }\r\n\r\n  run() {\r\n    let newValue = this.get();\r\n    let oldValue = this.value;\r\n    if (this.user) {\r\n      //如果是用户watcher，执行回调\r\n      this.cb.call(this.vm, newValue, oldValue);\r\n    }\r\n    this.value = newValue;\r\n  }\r\n};\r\n\r\nexport default Watcher;","export function patch(oldVnode, vnode) {\r\n  if (oldVnode.nodeType == '1') {\r\n    //是真实dom，此时需将vnode生成真实dom，然后插入相关位置，再将老的dom删除\r\n    let ele = createElement(vnode);\r\n\r\n    let parentElm = oldVnode.parentNode;\r\n\r\n    parentElm.insertBefore(ele, oldVnode.nextSibling);\r\n\r\n    parentElm.removeChild(oldVnode);\r\n\r\n    return ele;\r\n\r\n  }\r\n}\r\n\r\nfunction createElement(vnode) {\r\n  let {tag, data, text, children, vm} = vnode;\r\n  if (typeof tag == 'string') {\r\n    //是标签，\r\n    vnode.el = document.createElement(tag);\r\n    children.forEach(child => {\r\n      vnode.el.appendChild(createElement(child));\r\n    });\r\n  } else {\r\n    //是文本\r\n    vnode.el = document.createTextNode(text);\r\n  }\r\n  return vnode.el;\r\n}","import Watcher from \"./observe/watcher\";\r\nimport { patch } from \"./vdom/patch\";\r\n\r\nexport function mountComponent(vm, el) {\r\n  \r\n  //更新函数，后续数据变化 也可以走这个函数\r\n  let updateComponent = () => {\r\n    vm._update(vm._render(vm));   //将生成的虚拟dom 转化成真实dom\r\n  }\r\n\r\n  new Watcher(vm, updateComponent, () => {\r\n    console.log('我更新了');\r\n  }, {})\r\n}\r\n\r\nexport function lifecycleMixin(Vue) {\r\n  Vue.prototype._update = function(vnode) {\r\n    //既有初始化，也有更新\r\n    let vm = this;\r\n    vm.$el = patch(vm.$el, vnode);\r\n  }\r\n}","export function isFunction(obj) {\r\n  return typeof obj === 'function';\r\n}\r\n\r\nexport function isObject(obj) {\r\n  return typeof obj === 'object' && obj !== null;\r\n}\r\n\r\nexport function isArray(obj) {\r\n  return Array.isArray(obj);\r\n}","let oldArrayMethods = Array.prototype;  //原来的数组原型链\r\nexport let arrayMethods = Object.create(oldArrayMethods);\r\n//原理就是arrayMethods__proto__ = Array.prototype;  继承原来array的原型链\r\n\r\nlet methods = [\"push\", \"unshift\", \"slice\", \"pop\", \"shift\", \"sort\", \"reverse\"];\r\n\r\nmethods.forEach((method) => {\r\n  //同时调用原来的原型链方法\r\n  arrayMethods[method] = function (...args) {\r\n    oldArrayMethods[method].call(this, ...args);\r\n\r\n    let ob = this.__ob__;\r\n    let insertItems;\r\n    //对数组中新增的项  继续进行观测\r\n    switch (method) {\r\n      case 'push':\r\n      case 'unshift':\r\n        insertItems = args;\r\n        break;\r\n      case 'splice':\r\n        insertItems = args.slice(2);\r\n        break;\r\n    }\r\n\r\n    if (insertItems) ob.observeArray(insertItems);\r\n\r\n    ob.dep.notify();    //通知watcher更新\r\n  }\r\n})","import { isObject, isArray } from \"../utils\";\r\nimport { arrayMethods } from \"./array\";\r\nimport Dep from \"./dep\";\r\n\r\nexport function observe(data) {\r\n  //如果是对象才观测，否则直接return;\r\n  if(!isObject(data)) return;\r\n  // return new Observe(data);\r\n  if (data.__ob__) return;\r\n  return new Observe(data);\r\n}\r\n\r\nclass Observe {\r\n  constructor(data) {\r\n    this.dep = new Dep();\r\n    data.__ob__ = this;\r\n    Object.defineProperty(data, '__ob__', {\r\n      value: this,\r\n      enumerable: false\r\n    })\r\n    if (isArray(data)) {\r\n      //如果是数组，则对数组中的每一项进行观测，同时重写数组中的变异方法如：push，unShift等（面向切面）\r\n      data.__proto__ = arrayMethods;\r\n      this.observeArray(data);\r\n    } else {\r\n      this.walk(data);\r\n    }\r\n  }\r\n  //观测对象\r\n  walk(data) {\r\n    //对data进行遍历劫持，使用Object.keys 可以避免遍历到原型链上的属性，不必再用hasOwnProperty来进行判断\r\n    Object.keys(data).forEach((key) => {\r\n      defineReactive(data, key, data[key]);\r\n    })\r\n  }\r\n  //遍历观测数组中的每一项\r\n  observeArray(data) {\r\n    data.forEach((item) => {\r\n      observe(item);\r\n    })\r\n  }\r\n}\r\n\r\nfunction dependArray(value) {\r\n  for (let i = 0; i < value.lengrh; i++) {\r\n    let current = value[i];\r\n    current.__ob__ && current.__ob__.dep.depend();\r\n    if (Array.isArray(current)) {\r\n      dependArray(current);\r\n    }\r\n  }\r\n}\r\n\r\nfunction defineReactive(data, key, value) {\r\n  //因为对象的层级可能很深，也就是value也是一个对象，所以需要对value也进行遍历劫持\r\n  let childOb = observe(value);\r\n  const dep = new Dep();\r\n  Object.defineProperty(data, key, {\r\n    get() {\r\n      //取值时，将当前属性对应的watcher存放到属性自己的dep中\r\n      dep.depend();\r\n      if (childOb) {\r\n        childOb.dep.depend();\r\n        if (Array.isArray(value)) {\r\n          dependArray(value);\r\n        }\r\n      }\r\n      return value;\r\n    },\r\n    set(newValue) {\r\n      //因为set的值可能是个对象，也需要对其进行遍历劫持\r\n      if(newValue !== value) {\r\n        observe(newValue);\r\n        value = newValue;\r\n        dep.notify();\r\n      }\r\n    }\r\n  })\r\n}","import Dep from \"./observe/dep\";\r\nimport { observe } from \"./observe/index\";\r\nimport Watcher from \"./observe/watcher\";\r\nimport { isFunction } from \"./utils\";\r\n\r\nexport default function initStates(vm) {\r\n  if (vm.$options.data) initData(vm);  //初始化data属性\r\n  if (vm.$options.computed) initComputed(vm, vm.$options.computed);\r\n  if (vm.$options.watch) initWatch(vm, vm.$options.watch);\r\n}\r\n\r\nfunction proxy(vm, source, key) {\r\n  Object.defineProperty(vm, key, {\r\n    get() {\r\n      return vm[source][key];\r\n    },\r\n    set(newValue) {\r\n      vm[source][key] = newValue;\r\n    }\r\n  })\r\n}\r\n\r\nfunction initData(vm) {\r\n  let data = vm.$options.data;\r\n\r\n  // data = vm._data = isFunction(data) ? data() : data;\r\n  data = vm._data = isFunction(data) ? data.call(vm) : data;\r\n\r\n  //对data的第一层数据进行代理 使得vm.name === vm._data.name;\r\n\r\n  for(let key in data) {\r\n    proxy(vm, '_data', key);\r\n  }\r\n\r\n  //开始观测数据\r\n  observe(data);\r\n}\r\n\r\nfunction initWatch(vm, watchs) {\r\n  let keys = Object.keys(watchs);\r\n  keys.forEach(key => {\r\n    if (Array.isArray(watchs[key])) {\r\n      //如果是数组--watch可以写成数组的形式\r\n      for (let i = 0; i < watchs[key].length; i++) {\r\n        let handler = watchs[key][i];\r\n        createWatch(vm, key, handler);\r\n      }\r\n    } else {\r\n      let handler = watchs[key];\r\n      createWatch(vm, key, handler);\r\n    }\r\n  })\r\n}\r\n\r\nfunction createWatch(vm, name, handler) {\r\n  vm.$watch(name, handler); //需要扩展原型\r\n}\r\n\r\nfunction initComputed(vm, computeds) {\r\n  let keys = Object.keys(computeds);\r\n  const watcherMap = vm._computedWatcherMap = {};\r\n  keys.forEach(key => {\r\n    let userDef = computeds[key]; //用户定义的\r\n    let getter = typeof userDef == 'function' ? userDef : userDef.get;\r\n    let watcher = createComputed(vm, getter, ()=>{}, {lazy: true}); //创建computed\r\n    watcherMap[key] = watcher;\r\n    proxyComputed(vm, key, userDef);    //代理computed的属性到vm上\r\n  })\r\n}\r\n\r\nfunction createComputed(vm, getter, cb, options) {\r\n  return new Watcher(vm, getter, cb, options);\r\n}\r\n\r\nfunction proxyComputed(vm, key, userDef) {\r\n  let shareProperty = {};\r\n  // if (typeof userDef === 'function') {\r\n  //   //如果是函数\r\n  //   shareProperty.get = userDef;\r\n  // } else {\r\n  //   shareProperty.get = createComputedGetter(key);\r\n  // }\r\n  shareProperty.get = createComputedGetter(key);\r\n  Object.defineProperty(vm, key, shareProperty)\r\n}\r\n\r\nfunction createComputedGetter(key) {\r\n  return function computedGetter() {\r\n    let watcher = this._computedWatcherMap[key];\r\n    if (watcher.dirty) {\r\n      console.log('sss');\r\n      watcher.evaluate();\r\n    }\r\n    if (Dep.target) {\r\n      watcher.depend();\r\n    }\r\n    return watcher.value;\r\n  }\r\n}","import { compileToFunction } from \"./compile/index\";\r\nimport { mountComponent } from \"./lifecycle\";\r\nimport Watcher from \"./observe/watcher\";\r\nimport initStates from \"./state\";\r\n\r\nexport default initMixin;\r\n\r\nfunction initMixin(Vue) {\r\n  Vue.prototype._init = function(options) {\r\n    const vm = this;  //将当前的this对象--Vue实例  赋值给vm\r\n    vm.$options = options || {};  //新增$options属性，\r\n    initStates(vm); //初始化状态，包括props methods data computed watch等属性\r\n    \r\n    //编译模板\r\n    if (options.el) {\r\n      this.$mount(options.el);\r\n    }\r\n  }\r\n\r\n  Vue.prototype.$mount = function(el) {\r\n    const vm = this;\r\n    const options = vm.$options;\r\n    if (!options.render) {\r\n      //render的优先级比el高\r\n      el = document.querySelector(el);\r\n      vm.$el = el;\r\n      let template = options.template;\r\n      if(!template && el) {\r\n        template = el.outerHTML;\r\n      }\r\n      options.render = compileToFunction(template);\r\n    }\r\n\r\n    mountComponent(vm, el);\r\n  }\r\n\r\n  Vue.prototype.$watch = function(name, handler, options = {}) {\r\n    //这里开始new Watcher  这里需要标识是用户watcher，表示是用户自己创建的watcher\r\n    options.user = true;\r\n    new Watcher(this, name, handler, options);\r\n  }\r\n}","export function createElement(vm, tag, data = {}, ...children) {\r\n  return vnode(vm, tag, data, data.key, children, undefined);\r\n}\r\n\r\nexport function createTextElement(vm, text) {\r\n  return vnode(vm, undefined, undefined, undefined, undefined, text);\r\n}\r\n\r\nfunction vnode(vm, tag, data, key, children, text) {\r\n  return {\r\n    vm,\r\n    tag,\r\n    data,\r\n    key,\r\n    children,\r\n    text\r\n  }\r\n}","import { createElement, createTextElement } from \"./vdom/index.js\";\r\n\r\nexport function initRenderMixin(Vue) {\r\n  Vue.prototype._render = function(vm) {\r\n    let vnode = vm.$options.render.call(vm);\r\n    return vnode;\r\n  }\r\n\r\n  Vue.prototype._c = function() {\r\n    return createElement(this, ...arguments);\r\n  }\r\n\r\n  Vue.prototype._v = function(text) {\r\n    return createTextElement(this, text);\r\n  }\r\n\r\n  Vue.prototype._s = function(value) {\r\n    return typeof value === 'object' ? JSON.stringify(value) : value;\r\n  }\r\n}","import initMixin from \"./initMixin.js\";\r\nimport { lifecycleMixin } from \"./lifecycle.js\";\r\nimport { initRenderMixin } from \"./render.js\";\r\n\r\nfunction Vue(options) {\r\n  this._init(options);\r\n}\r\ninitMixin(Vue);\r\ninitRenderMixin(Vue);\r\nlifecycleMixin(Vue);\r\n\r\nexport default Vue;"],"names":["ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","createElement","tagName","attrs","tag","parent","children","type","text","stack","root","start","length","element","push","end","last","pop","Error","chars","replace","parseHtml","html","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","mMatch","attr","name","value","defaultTagRE","generate","getChildStr","str","getAttrStr","map","child","gen","join","test","strs","lastIndex","exec","index","JSON","stringify","slice","trim","attrsStrs","item","styleObj","arguments","compileToFunction","template","ast","code","render","Function","uid","Dep","watchers","target","addDep","watcher","forEach","update","pushTarget","popTarget","cbs","waiting","timer","cb","Promise","resolve","then","flushCallbacks","nextTick","pending","ids","queue","flushSchedule","run","queueWatchers","id","includes","Watcher","vm","updateOrFn","afterUpdate","options","user","lazy","dirty","getter","names","split","reduce","preV","curV","deps","depIds","undefined","get","newValue","call","dep","depId","addWatcher","i","depend","oldValue","patch","oldVnode","vnode","nodeType","ele","parentElm","parentNode","insertBefore","nextSibling","removeChild","data","el","document","appendChild","createTextNode","mountComponent","updateComponent","_update","_render","console","log","lifecycleMixin","Vue","prototype","$el","isFunction","obj","isObject","isArray","Array","oldArrayMethods","arrayMethods","Object","create","methods","method","args","ob","__ob__","insertItems","observeArray","notify","observe","Observe","defineProperty","enumerable","__proto__","walk","keys","key","defineReactive","dependArray","lengrh","current","childOb","set","initStates","$options","initData","computed","initComputed","watch","initWatch","proxy","source","_data","watchs","handler","createWatch","$watch","computeds","watcherMap","_computedWatcherMap","userDef","createComputed","proxyComputed","shareProperty","createComputedGetter","computedGetter","evaluate","initMixin","_init","$mount","querySelector","outerHTML","createTextElement","initRenderMixin","_c","_v","_s"],"mappings":";;;;;;IAAA,IAAMA,MAAM,iCAAZ;;IACA,IAAMC,YAAY,iBAAUD,MAAV,kBAAwBA,MAAxB,MAAlB;IACA,IAAME,YAAY,GAAG,IAAIC,MAAJ,aAAgBF,YAAhB,EAArB;;IACA,IAAMG,MAAM,GAAG,IAAID,MAAJ,gBAAmBF,YAAnB,YAAf;;IACA,IAAMI,SAAS,GAAG,2EAAlB;;IACA,IAAMC,aAAa,GAAG,YAAtB;;IAEA,SAASC,aAAT,CAAuBC,OAAvB,EAAgCC,KAAhC,EAAuC;IACnC,SAAO;IACHC,IAAAA,GAAG,EAAEF,OADF;IAEHG,IAAAA,MAAM,EAAE,IAFL;IAGHC,IAAAA,QAAQ,EAAE,EAHP;IAIHH,IAAAA,KAAK,EAALA,KAJG;IAKHI,IAAAA,IAAI,EAAE,CALH;IAMHC,IAAAA,IAAI,EAAE;IANH,GAAP;IAQH;;IAED,IAAIC,KAAK,GAAG,EAAZ;IACA,IAAIC,IAAI,GAAG,IAAX;;IAEA,SAASC,KAAT,CAAeT,OAAf,EAAwBC,KAAxB,EAA+B;IAE3B,MAAIE,MAAM,GAAGI,KAAK,CAACA,KAAK,CAACG,MAAN,GAAe,CAAhB,CAAlB;IACA,MAAIC,OAAO,GAAGZ,aAAa,CAACC,OAAD,EAAUC,KAAV,CAA3B;;IACA,MAAI,CAACO,IAAL,EAAW;IACPA,IAAAA,IAAI,GAAGG,OAAP;IACH;;IACD,MAAIR,MAAJ,EAAY;IACRQ,IAAAA,OAAO,CAACR,MAAR,GAAiBA,MAAjB;IACAA,IAAAA,MAAM,CAACC,QAAP,CAAgBQ,IAAhB,CAAqBD,OAArB;IACH;;IACDJ,EAAAA,KAAK,CAACK,IAAN,CAAWD,OAAX;IACH;;IAED,SAASE,GAAT,CAAab,OAAb,EAAsB;IAClB,MAAIc,IAAI,GAAGP,KAAK,CAACQ,GAAN,EAAX;;IACA,MAAID,IAAI,CAACZ,GAAL,KAAaF,OAAjB,EAA0B;IACtB,UAAM,IAAIgB,KAAJ,CAAU,UAAV,CAAN;IACH;IACJ;;IAED,SAASC,KAAT,CAAeX,IAAf,EAAqB;IACjBA,EAAAA,IAAI,GAAGA,IAAI,CAACY,OAAL,CAAa,KAAb,EAAoB,EAApB,CAAP;IACA,MAAIP,OAAO,GAAGJ,KAAK,CAACA,KAAK,CAACG,MAAN,GAAe,CAAhB,CAAnB;;IACA,MAAIJ,IAAJ,EAAU;IACNK,IAAAA,OAAO,CAACP,QAAR,CAAiBQ,IAAjB,CAAsB;IAClBP,MAAAA,IAAI,EAAE,CADY;IAElBC,MAAAA,IAAI,EAAJA;IAFkB,KAAtB;IAIH;IACJ;;IAEM,SAASa,SAAT,CAAmBC,IAAnB,EAAyB;IAC5B,SAAOA,IAAP,EAAa;IACT,QAAIC,OAAO,GAAGD,IAAI,CAACE,OAAL,CAAa,GAAb,CAAd;;IACA,QAAID,OAAO,IAAI,CAAf,EAAkB;IAEd;IACA,UAAIE,aAAa,GAAGC,aAAa,EAAjC;;IACA,UAAID,aAAJ,EAAmB;IACf;IACAd,QAAAA,KAAK,CAACc,aAAa,CAACvB,OAAf,EAAwBuB,aAAa,CAACtB,KAAtC,CAAL;IACA;IACH;;IAED,UAAIwB,WAAW,GAAGL,IAAI,CAACM,KAAL,CAAW9B,MAAX,CAAlB;;IACA,UAAI6B,WAAJ,EAAiB;IACbE,QAAAA,OAAO,CAACF,WAAW,CAAC,CAAD,CAAX,CAAef,MAAhB,CAAP;IACAG,QAAAA,GAAG,CAACY,WAAW,CAAC,CAAD,CAAZ,CAAH;IACA;IACH;IACJ;;IAED,QAAInB,IAAI,SAAR;;IACA,QAAIe,OAAO,GAAG,CAAd,EAAiB;IACbf,MAAAA,IAAI,GAAGc,IAAI,CAACQ,SAAL,CAAe,CAAf,EAAkBP,OAAlB,CAAP;IACH;;IACD,QAAIf,IAAJ,EAAU;IACNqB,MAAAA,OAAO,CAACrB,IAAI,CAACI,MAAN,CAAP;IACAO,MAAAA,KAAK,CAACX,IAAD,CAAL;IACH;IACJ;;IAED,WAASkB,aAAT,GAAyB;IACrB,QAAIK,MAAM,GAAGT,IAAI,CAACM,KAAL,CAAWhC,YAAX,CAAb;;IACA,QAAImC,MAAJ,EAAY;IACR;IACA,UAAMH,KAAK,GAAG;IACV1B,QAAAA,OAAO,EAAE6B,MAAM,CAAC,CAAD,CADL;IAEV5B,QAAAA,KAAK,EAAE;IAFG,OAAd,CAFQ;;IAOR0B,MAAAA,OAAO,CAACE,MAAM,CAAC,CAAD,CAAN,CAAUnB,MAAX,CAAP,CAPQ;;IAUR,UAAIoB,IAAJ,EAAUjB,IAAV,CAVQ;;;IAYR,aAAO,EAAEA,IAAG,GAAGO,IAAI,CAACM,KAAL,CAAW5B,aAAX,CAAR,MAAuCgC,IAAI,GAAGV,IAAI,CAACM,KAAL,CAAW7B,SAAX,CAA9C,CAAP,EAA6E;IACzE;IACA6B,QAAAA,KAAK,CAACzB,KAAN,CAAYW,IAAZ,CAAiB;IACbmB,UAAAA,IAAI,EAAED,IAAI,CAAC,CAAD,CADG;IAEbE,UAAAA,KAAK,EAAEF,IAAI,CAAC,CAAD,CAAJ,IAAWA,IAAI,CAAC,CAAD,CAAf,IAAsBA,IAAI,CAAC,CAAD;IAFpB,SAAjB;IAIAH,QAAAA,OAAO,CAACG,IAAI,CAAC,CAAD,CAAJ,CAAQpB,MAAT,CAAP;IACH;;IACD,UAAIG,IAAJ,EAAS;IACL;IACAc,QAAAA,OAAO,CAACd,IAAG,CAAC,CAAD,CAAH,CAAOH,MAAR,CAAP;IACH;;IACD,aAAOgB,KAAP;IACH;IACJ;;IAED,WAASC,OAAT,CAAiBjB,MAAjB,EAAyB;IACrBU,IAAAA,IAAI,GAAGA,IAAI,CAACQ,SAAL,CAAelB,MAAf,CAAP;IACH;;IAED,SAAOF,IAAP;IACH;;ICvHD,IAAMyB,YAAY,GAAG,0BAArB;IAEO,SAASC,QAAT,CAAkB1B,IAAlB,EAAwB;IAAK;IAChC,MAAIJ,QAAQ,GAAG+B,WAAW,CAAC3B,IAAI,CAACJ,QAAN,CAA1B,CAD2B;;IAE3B,MAAIgC,GAAG,iBAAU5B,IAAI,CAACN,GAAf,eACHM,IAAI,CAACP,KAAL,CAAWS,MAAX,GAAoB2B,UAAU,CAAC7B,IAAI,CAACP,KAAN,CAA9B,GAA6C,WAD1C,SAGHG,QAAQ,cAAOA,QAAP,IAAmB,EAHxB,MAAP;IAMA,SAAOgC,GAAP;IACH;;IAED,SAASD,WAAT,CAAqB/B,QAArB,EAA+B;;IAE3B,MAAIA,QAAJ,EAAc;IACV,WAAOA,QAAQ,CAACkC,GAAT,CAAa,UAAAC,KAAK,EAAI;IACzB,aAAOC,GAAG,CAACD,KAAD,CAAV;IACH,KAFM,EAEJE,IAFI,CAEC,GAFD,CAAP;IAGH;;IACD,SAAO,KAAP;IACH;;IAED,SAASD,GAAT,CAAaD,KAAb,EAAoB;IAChB,MAAIA,KAAK,CAAClC,IAAN,IAAc,GAAlB,EAAuB;IACnB,WAAO6B,QAAQ,CAACK,KAAD,CAAf;IACH;;IACD,MAAIA,KAAK,CAAClC,IAAN,IAAc,GAAlB,EAAuB;IACnB,QAAIC,IAAI,GAAGiC,KAAK,CAACjC,IAAjB;;IACA,QAAI,CAAC2B,YAAY,CAACS,IAAb,CAAkBpC,IAAlB,CAAL,EAA8B;IAC1B;IACA,2BAAcA,IAAd;IACH,KAHD,MAGO;IACH;IACA,UAAIqC,IAAI,GAAG,EAAX;IACA,UAAIjB,KAAJ;IAEA,UAAIkB,SAAS,GAAGX,YAAY,CAACW,SAAb,GAAyB,CAAzC;;IACA,aAAMlB,KAAK,GAAGO,YAAY,CAACY,IAAb,CAAkBvC,IAAlB,CAAd,EAAuC;IACnC,YAAIwC,KAAK,GAAGpB,KAAK,CAACoB,KAAlB;IACAH,QAAAA,IAAI,CAAC/B,IAAL,CAAUmC,IAAI,CAACC,SAAL,CAAe1C,IAAI,CAAC2C,KAAL,CAAWL,SAAX,EAAsBE,KAAtB,CAAf,CAAV;IACAF,QAAAA,SAAS,GAAGE,KAAK,GAAGpB,KAAK,CAAC,CAAD,CAAL,CAAShB,MAA7B;IACAiC,QAAAA,IAAI,CAAC/B,IAAL,cAAgBc,KAAK,CAAC,CAAD,CAAL,CAASwB,IAAT,EAAhB;IACH;;IACDP,MAAAA,IAAI,CAAC/B,IAAL,CAAUmC,IAAI,CAACC,SAAL,CAAe1C,IAAI,CAAC2C,KAAL,CAAWL,SAAX,CAAf,CAAV;IACA,0BAAaD,IAAI,CAACF,IAAL,CAAU,GAAV,CAAb;IACH;IAGJ;IACJ;;IAED,SAASJ,UAAT,CAAoBpC,KAApB,EAA2B;IACvB,MAAIkD,SAAS,GAAGlD,KAAK,CAACqC,GAAN,CAAU,UAACc,IAAD,EAAU;IAChC,QAAIA,IAAI,CAACrB,IAAL,IAAa,OAAjB,EAA0B;IACtB,UAAIsB,QAAQ,GAAG,EAAf;IACAD,MAAAA,IAAI,CAACpB,KAAL,CAAWd,OAAX,CAAmB,wBAAnB,EAA6C,YAAW;IACpDmC,QAAAA,QAAQ,CAACC,SAAS,CAAC,CAAD,CAAV,CAAR,GAAyBA,SAAS,CAAC,CAAD,CAAlC;IACH,OAFD;IAGA,8BAAiBP,IAAI,CAACC,SAAL,CAAeK,QAAf,CAAjB;IACH;;IACD,qBAAUD,IAAI,CAACrB,IAAf,cAAuBgB,IAAI,CAACC,SAAL,CAAeI,IAAI,CAACpB,KAApB,CAAvB;IACH,GATe,CAAhB;IAUA,oBAAWmB,SAAS,CAACV,IAAV,CAAe,GAAf,CAAX;IACH;;IC3DM,SAASc,iBAAT,CAA2BC,QAA3B,EAAqC;IAC1C,MAAIC,GAAG,GAAGtC,SAAS,CAACqC,QAAD,CAAnB,CAD0C;;IAE1C;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACE,MAAIE,IAAI,GAAGxB,QAAQ,CAACuB,GAAD,CAAnB,CAZ0C;;IAa1C;IACF;IACA;IACA;;IACE,MAAIE,MAAM,GAAG,IAAIC,QAAJ,6BAAkCF,IAAlC,OAAb;IACA,SAAOC,MAAP;IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICxBD,IAAIE,GAAG,GAAG,CAAV;;QACMC;IACJ,iBAAc;IAAA;;IACZ,SAAKD,GAAL,GAAWA,GAAG,EAAd;IACA,SAAKE,QAAL,GAAgB,EAAhB,CAFY;IAGb;;;;iCACQ;IACP,UAAGD,GAAG,CAACE,MAAP,EAAe;IACbF,QAAAA,GAAG,CAACE,MAAJ,CAAWC,MAAX,CAAkB,IAAlB,EADa;IAEd;IAGF;;;mCAEUC,SAAS;IAClB,WAAKH,QAAL,CAAcnD,IAAd,CAAmBsD,OAAnB;IACD;;;iCACQ;IACP,WAAKH,QAAL,CAAcI,OAAd,CAAsB,UAAAD,OAAO,EAAI;IAC/BA,QAAAA,OAAO,CAACE,MAAR;IACD,OAFD;IAGD;;;8BACK;IACJ,WAAKL,QAAL,CAAcI,OAAd,CAAsB,UAAAD,OAAO,EAAI;IAC/BA,QAAAA,OAAO,CAACE,MAAR;IACD,OAFD;IAGD;;;;;;IAGHN,GAAG,CAACE,MAAJ,GAAa,IAAb;IACA,IAAMzD,OAAK,GAAG,EAAd;IACO,SAAS8D,UAAT,CAAoBH,OAApB,EAA6B;IAClCJ,EAAAA,GAAG,CAACE,MAAJ,GAAaE,OAAb;IACA3D,EAAAA,OAAK,CAACK,IAAN,CAAWsD,OAAX;IACD;IACM,SAASI,SAAT,GAAqB;IAC1B/D,EAAAA,OAAK,CAACQ,GAAN;IACA+C,EAAAA,GAAG,CAACE,MAAJ,GAAazD,OAAK,CAACA,OAAK,CAACG,MAAN,GAAe,CAAhB,CAAlB;IACD;;ICtCD,IAAI6D,GAAG,GAAG,EAAV;IACA,IAAIC,OAAO,GAAG,KAAd;;IAEA,SAASC,KAAT,CAAeC,EAAf,EAAmB;IACjBC,EAAAA,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAM;IAC3BH,IAAAA,EAAE;IACH,GAFD;IAGD;;IAED,SAASI,cAAT,GAA0B;IACxBP,EAAAA,GAAG,CAACJ,OAAJ,CAAY,UAAAO,EAAE,EAAI;IAChBA,IAAAA,EAAE;IACH,GAFD;IAGAF,EAAAA,OAAO,GAAG,IAAV;IACD;;IAEM,SAASO,QAAT,CAAkBL,EAAlB,EAAiC;;IACtC,MAAI,OAAOA,EAAP,IAAa,UAAjB,EAA6B;IAC3BH,IAAAA,GAAG,CAAC3D,IAAJ,CAAS8D,EAAT;;IACA,QAAI,CAACF,OAAL,EAAc;IACZC,MAAAA,KAAK,CAACK,cAAD,CAAL;IACD;IACF;IACF;;ICrBD,IAAIE,OAAO,GAAG,KAAd;IACA,IAAIC,GAAG,GAAG,EAAV;IACA,IAAIC,KAAK,GAAG,EAAZ;;IAEA,SAASC,aAAT,GAAyB;IACvBD,EAAAA,KAAK,CAACf,OAAN,CAAc,UAAAD,OAAO,EAAI;IACvBA,IAAAA,OAAO,CAACkB,GAAR;IACD,GAFD;IAGD;;IAEM,SAASC,aAAT,CAAuBnB,OAAvB,EAAgC;IACrC,MAAIoB,EAAE,GAAGpB,OAAO,CAACL,GAAjB;;IACA,MAAI,CAACoB,GAAG,CAACM,QAAJ,CAAaD,EAAb,CAAL,EAAuB;IACrB;IACAJ,IAAAA,KAAK,CAACtE,IAAN,CAAWsD,OAAX;IACAe,IAAAA,GAAG,CAACrE,IAAJ,CAAS0E,EAAT;;IACA,QAAI,CAACN,OAAL,EAAc;IACZD,MAAAA,QAAQ,CAACI,aAAD,CAAR;IACAH,MAAAA,OAAO,GAAG,IAAV;IACD;IACF;IACF;;ICpBD,IAAInB,KAAG,GAAG,CAAV;;QAEM2B;IACJ,mBAAYC,EAAZ,EAAgBC,UAAhB,EAA4BC,WAA5B,EAAyCC,OAAzC,EAAkD;IAAA;;IAChD,SAAK/B,GAAL,GAAWA,KAAG,EAAd;IACA,SAAK4B,EAAL,GAAUA,EAAV;IACA,SAAKC,UAAL,GAAkBA,UAAlB;IACA,SAAKhB,EAAL,GAAUiB,WAAV;IACA,SAAKC,OAAL,GAAeA,OAAf;IACA,SAAKC,IAAL,GAAY,CAAC,CAACD,OAAO,CAACC,IAAtB,CANgD;;IAOhD,SAAKC,IAAL,GAAY,CAAC,CAACF,OAAO,CAACE,IAAtB,CAPgD;;IAQhD,SAAKC,KAAL,GAAa,CAAC,CAACH,OAAO,CAACE,IAAvB;;IACA,QAAI,OAAOJ,UAAP,KAAsB,QAA1B,EAAoC;IAClC;IACA,WAAKM,MAAL,GAAc,YAAW;IACvB,YAAIC,KAAK,GAAGP,UAAU,CAACQ,KAAX,CAAiB,GAAjB,CAAZ;IACA,eAAOD,KAAK,CAACE,MAAN,CAAa,UAACC,IAAD,EAAOC,IAAP,EAAgB;IAClC,iBAAOD,IAAI,CAACC,IAAD,CAAX;IACD,SAFM,EAEJZ,EAFI,CAAP;IAGD,OALD;IAMD,KARD,MAQO;IACL,WAAKO,MAAL,GAAcN,UAAd,CADK;IAEN;;IAED,SAAKY,IAAL,GAAY,EAAZ,CArBgD;;IAsBhD,SAAKC,MAAL,GAAc,EAAd,CAtBgD;IAwBhD;;IACA,SAAKvE,KAAL,GAAa4D,OAAO,CAACE,IAAR,GAAeU,SAAf,GAA2B,KAAKC,GAAL,EAAxC;IACD;;;;8BAEK;IACJpC,MAAAA,UAAU,CAAC,IAAD,CAAV,CADI;;IAEJ,UAAIqC,QAAQ,GAAG,KAAKV,MAAL,CAAYW,IAAZ,CAAiB,KAAKlB,EAAtB,CAAf;IACAnB,MAAAA,SAAS,GAHL;;IAKJ,aAAOoC,QAAP;IACD;;;+BAEME,KAAK;IACV,UAAIC,KAAK,GAAGD,GAAG,CAAC/C,GAAhB;;IACA,UAAI,CAAC,KAAK0C,MAAL,CAAYhB,QAAZ,CAAqBsB,KAArB,CAAL,EAAkC;IAChC;IACA,aAAKP,IAAL,CAAU1F,IAAV,CAAegG,GAAf;IACA,aAAKL,MAAL,CAAY3F,IAAZ,CAAiBiG,KAAjB;IACAD,QAAAA,GAAG,CAACE,UAAJ,CAAe,IAAf;IACD;IACF;;;iCAEQ;IACP,UAAIC,CAAC,GAAG,KAAKT,IAAL,CAAU5F,MAAlB;;IACA,aAAMqG,CAAC,EAAP,EAAW;IACT,YAAIH,GAAG,GAAG,KAAKN,IAAL,CAAUS,CAAV,CAAV;IACAH,QAAAA,GAAG,CAACI,MAAJ;IACD;IACF;;;iCAEQ;IACP;IACA;IACA,UAAI,KAAKlB,IAAT,EAAe;IACb,aAAKC,KAAL,GAAa,IAAb;IACD,OAFD,MAEO;IACLV,QAAAA,aAAa,CAAC,IAAD,CAAb;IACD;IAEF;;;mCAEU;IACT,WAAKU,KAAL,GAAa,KAAb;IACA,WAAK/D,KAAL,GAAa,KAAKyE,GAAL,EAAb;IACD;;;8BAEK;IACJ,UAAIC,QAAQ,GAAG,KAAKD,GAAL,EAAf;IACA,UAAIQ,QAAQ,GAAG,KAAKjF,KAApB;;IACA,UAAI,KAAK6D,IAAT,EAAe;IACb;IACA,aAAKnB,EAAL,CAAQiC,IAAR,CAAa,KAAKlB,EAAlB,EAAsBiB,QAAtB,EAAgCO,QAAhC;IACD;;IACD,WAAKjF,KAAL,GAAa0E,QAAb;IACD;;;;;;ICpFI,SAASQ,KAAT,CAAeC,QAAf,EAAyBC,KAAzB,EAAgC;IACrC,MAAID,QAAQ,CAACE,QAAT,IAAqB,GAAzB,EAA8B;IAC5B;IACA,QAAIC,GAAG,GAAGvH,eAAa,CAACqH,KAAD,CAAvB;IAEA,QAAIG,SAAS,GAAGJ,QAAQ,CAACK,UAAzB;IAEAD,IAAAA,SAAS,CAACE,YAAV,CAAuBH,GAAvB,EAA4BH,QAAQ,CAACO,WAArC;IAEAH,IAAAA,SAAS,CAACI,WAAV,CAAsBR,QAAtB;IAEA,WAAOG,GAAP;IAED;IACF;;IAED,SAASvH,eAAT,CAAuBqH,KAAvB,EAA8B;IAAA,MACvBlH,GADuB,GACUkH,KADV,CACvBlH,GADuB;IAAA,MAClB0H,IADkB,GACUR,KADV,CAClBQ,IADkB;IAAA,MACZtH,IADY,GACU8G,KADV,CACZ9G,IADY;IAAA,MACNF,QADM,GACUgH,KADV,CACNhH,QADM;IAAA,MACIqF,EADJ,GACU2B,KADV,CACI3B,EADJ;;IAE5B,MAAI,OAAOvF,GAAP,IAAc,QAAlB,EAA4B;IAC1B;IACAkH,IAAAA,KAAK,CAACS,EAAN,GAAWC,QAAQ,CAAC/H,aAAT,CAAuBG,GAAvB,CAAX;IACAE,IAAAA,QAAQ,CAAC+D,OAAT,CAAiB,UAAA5B,KAAK,EAAI;IACxB6E,MAAAA,KAAK,CAACS,EAAN,CAASE,WAAT,CAAqBhI,eAAa,CAACwC,KAAD,CAAlC;IACD,KAFD;IAGD,GAND,MAMO;IACL;IACA6E,IAAAA,KAAK,CAACS,EAAN,GAAWC,QAAQ,CAACE,cAAT,CAAwB1H,IAAxB,CAAX;IACD;;IACD,SAAO8G,KAAK,CAACS,EAAb;IACD;;IC1BM,SAASI,cAAT,CAAwBxC,EAAxB,EAA4BoC,EAA5B,EAAgC;IAErC;IACA,MAAIK,eAAe,GAAG,SAAlBA,eAAkB,GAAM;IAC1BzC,IAAAA,EAAE,CAAC0C,OAAH,CAAW1C,EAAE,CAAC2C,OAAH,CAAW3C,EAAX,CAAX,EAD0B;;IAE3B,GAFD;;IAIA,MAAID,OAAJ,CAAYC,EAAZ,EAAgByC,eAAhB,EAAiC,YAAM;IACrCG,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;IACD,GAFD,EAEG,EAFH;IAGD;IAEM,SAASC,cAAT,CAAwBC,GAAxB,EAA6B;IAClCA,EAAAA,GAAG,CAACC,SAAJ,CAAcN,OAAd,GAAwB,UAASf,KAAT,EAAgB;IACtC;IACA,QAAI3B,EAAE,GAAG,IAAT;IACAA,IAAAA,EAAE,CAACiD,GAAH,GAASxB,KAAK,CAACzB,EAAE,CAACiD,GAAJ,EAAStB,KAAT,CAAd;IACD,GAJD;IAKD;;ICrBM,SAASuB,UAAT,CAAoBC,GAApB,EAAyB;IAC9B,SAAO,OAAOA,GAAP,KAAe,UAAtB;IACD;IAEM,SAASC,QAAT,CAAkBD,GAAlB,EAAuB;IAC5B,SAAO,QAAOA,GAAP,MAAe,QAAf,IAA2BA,GAAG,KAAK,IAA1C;IACD;IAEM,SAASE,OAAT,CAAiBF,GAAjB,EAAsB;IAC3B,SAAOG,KAAK,CAACD,OAAN,CAAcF,GAAd,CAAP;IACD;;ICVD,IAAII,eAAe,GAAGD,KAAK,CAACN,SAA5B;;IACO,IAAIQ,YAAY,GAAGC,MAAM,CAACC,MAAP,CAAcH,eAAd,CAAnB;;IAGP,IAAII,OAAO,GAAG,CAAC,MAAD,EAAS,SAAT,EAAoB,OAApB,EAA6B,KAA7B,EAAoC,OAApC,EAA6C,MAA7C,EAAqD,SAArD,CAAd;IAEAA,OAAO,CAACjF,OAAR,CAAgB,UAACkF,MAAD,EAAY;IAC1B;IACAJ,EAAAA,YAAY,CAACI,MAAD,CAAZ,GAAuB,YAAmB;IAAA;;IAAA,sCAANC,IAAM;IAANA,MAAAA,IAAM;IAAA;;IACxC,6BAAAN,eAAe,CAACK,MAAD,CAAf,EAAwB1C,IAAxB,+BAA6B,IAA7B,SAAsC2C,IAAtC;;IAEA,QAAIC,EAAE,GAAG,KAAKC,MAAd;IACA,QAAIC,WAAJ,CAJwC;;IAMxC,YAAQJ,MAAR;IACE,WAAK,MAAL;IACA,WAAK,SAAL;IACEI,QAAAA,WAAW,GAAGH,IAAd;IACA;;IACF,WAAK,QAAL;IACEG,QAAAA,WAAW,GAAGH,IAAI,CAACrG,KAAL,CAAW,CAAX,CAAd;IACA;IAPJ;;IAUA,QAAIwG,WAAJ,EAAiBF,EAAE,CAACG,YAAH,CAAgBD,WAAhB;IAEjBF,IAAAA,EAAE,CAAC3C,GAAH,CAAO+C,MAAP,GAlBwC;IAmBzC,GAnBD;IAoBD,CAtBD;;ICFO,SAASC,OAAT,CAAiBhC,IAAjB,EAAuB;IAC5B;IACA,MAAG,CAACiB,QAAQ,CAACjB,IAAD,CAAZ,EAAoB,OAFQ;;IAI5B,MAAIA,IAAI,CAAC4B,MAAT,EAAiB;IACjB,SAAO,IAAIK,OAAJ,CAAYjC,IAAZ,CAAP;IACD;;QAEKiC;IACJ,mBAAYjC,IAAZ,EAAkB;IAAA;;IAChB,SAAKhB,GAAL,GAAW,IAAI9C,GAAJ,EAAX;IACA8D,IAAAA,IAAI,CAAC4B,MAAL,GAAc,IAAd;IACAN,IAAAA,MAAM,CAACY,cAAP,CAAsBlC,IAAtB,EAA4B,QAA5B,EAAsC;IACpC5F,MAAAA,KAAK,EAAE,IAD6B;IAEpC+H,MAAAA,UAAU,EAAE;IAFwB,KAAtC;;IAIA,QAAIjB,OAAO,CAAClB,IAAD,CAAX,EAAmB;IACjB;IACAA,MAAAA,IAAI,CAACoC,SAAL,GAAiBf,YAAjB;IACA,WAAKS,YAAL,CAAkB9B,IAAlB;IACD,KAJD,MAIO;IACL,WAAKqC,IAAL,CAAUrC,IAAV;IACD;IACF;;;;;6BAEIA,MAAM;IACT;IACAsB,MAAAA,MAAM,CAACgB,IAAP,CAAYtC,IAAZ,EAAkBzD,OAAlB,CAA0B,UAACgG,GAAD,EAAS;IACjCC,QAAAA,cAAc,CAACxC,IAAD,EAAOuC,GAAP,EAAYvC,IAAI,CAACuC,GAAD,CAAhB,CAAd;IACD,OAFD;IAGD;;;;qCAEYvC,MAAM;IACjBA,MAAAA,IAAI,CAACzD,OAAL,CAAa,UAACf,IAAD,EAAU;IACrBwG,QAAAA,OAAO,CAACxG,IAAD,CAAP;IACD,OAFD;IAGD;;;;;;IAGH,SAASiH,WAAT,CAAqBrI,KAArB,EAA4B;IAC1B,OAAK,IAAI+E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/E,KAAK,CAACsI,MAA1B,EAAkCvD,CAAC,EAAnC,EAAuC;IACrC,QAAIwD,OAAO,GAAGvI,KAAK,CAAC+E,CAAD,CAAnB;IACAwD,IAAAA,OAAO,CAACf,MAAR,IAAkBe,OAAO,CAACf,MAAR,CAAe5C,GAAf,CAAmBI,MAAnB,EAAlB;;IACA,QAAI+B,KAAK,CAACD,OAAN,CAAcyB,OAAd,CAAJ,EAA4B;IAC1BF,MAAAA,WAAW,CAACE,OAAD,CAAX;IACD;IACF;IACF;;IAED,SAASH,cAAT,CAAwBxC,IAAxB,EAA8BuC,GAA9B,EAAmCnI,KAAnC,EAA0C;IACxC;IACA,MAAIwI,OAAO,GAAGZ,OAAO,CAAC5H,KAAD,CAArB;IACA,MAAM4E,GAAG,GAAG,IAAI9C,GAAJ,EAAZ;IACAoF,EAAAA,MAAM,CAACY,cAAP,CAAsBlC,IAAtB,EAA4BuC,GAA5B,EAAiC;IAC/B1D,IAAAA,GAD+B,iBACzB;IACJ;IACAG,MAAAA,GAAG,CAACI,MAAJ;;IACA,UAAIwD,OAAJ,EAAa;IACXA,QAAAA,OAAO,CAAC5D,GAAR,CAAYI,MAAZ;;IACA,YAAI+B,KAAK,CAACD,OAAN,CAAc9G,KAAd,CAAJ,EAA0B;IACxBqI,UAAAA,WAAW,CAACrI,KAAD,CAAX;IACD;IACF;;IACD,aAAOA,KAAP;IACD,KAX8B;IAY/ByI,IAAAA,GAZ+B,eAY3B/D,QAZ2B,EAYjB;IACZ;IACA,UAAGA,QAAQ,KAAK1E,KAAhB,EAAuB;IACrB4H,QAAAA,OAAO,CAAClD,QAAD,CAAP;IACA1E,QAAAA,KAAK,GAAG0E,QAAR;IACAE,QAAAA,GAAG,CAAC+C,MAAJ;IACD;IACF;IAnB8B,GAAjC;IAqBD;;ICzEc,SAASe,UAAT,CAAoBjF,EAApB,EAAwB;IACrC,MAAIA,EAAE,CAACkF,QAAH,CAAY/C,IAAhB,EAAsBgD,QAAQ,CAACnF,EAAD,CAAR,CADe;;IAErC,MAAIA,EAAE,CAACkF,QAAH,CAAYE,QAAhB,EAA0BC,YAAY,CAACrF,EAAD,EAAKA,EAAE,CAACkF,QAAH,CAAYE,QAAjB,CAAZ;IAC1B,MAAIpF,EAAE,CAACkF,QAAH,CAAYI,KAAhB,EAAuBC,SAAS,CAACvF,EAAD,EAAKA,EAAE,CAACkF,QAAH,CAAYI,KAAjB,CAAT;IACxB;;IAED,SAASE,KAAT,CAAexF,EAAf,EAAmByF,MAAnB,EAA2Bf,GAA3B,EAAgC;IAC9BjB,EAAAA,MAAM,CAACY,cAAP,CAAsBrE,EAAtB,EAA0B0E,GAA1B,EAA+B;IAC7B1D,IAAAA,GAD6B,iBACvB;IACJ,aAAOhB,EAAE,CAACyF,MAAD,CAAF,CAAWf,GAAX,CAAP;IACD,KAH4B;IAI7BM,IAAAA,GAJ6B,eAIzB/D,QAJyB,EAIf;IACZjB,MAAAA,EAAE,CAACyF,MAAD,CAAF,CAAWf,GAAX,IAAkBzD,QAAlB;IACD;IAN4B,GAA/B;IAQD;;IAED,SAASkE,QAAT,CAAkBnF,EAAlB,EAAsB;IACpB,MAAImC,IAAI,GAAGnC,EAAE,CAACkF,QAAH,CAAY/C,IAAvB,CADoB;;IAIpBA,EAAAA,IAAI,GAAGnC,EAAE,CAAC0F,KAAH,GAAWxC,UAAU,CAACf,IAAD,CAAV,GAAmBA,IAAI,CAACjB,IAAL,CAAUlB,EAAV,CAAnB,GAAmCmC,IAArD,CAJoB;;IAQpB,OAAI,IAAIuC,GAAR,IAAevC,IAAf,EAAqB;IACnBqD,IAAAA,KAAK,CAACxF,EAAD,EAAK,OAAL,EAAc0E,GAAd,CAAL;IACD,GAVmB;;;IAapBP,EAAAA,OAAO,CAAChC,IAAD,CAAP;IACD;;IAED,SAASoD,SAAT,CAAmBvF,EAAnB,EAAuB2F,MAAvB,EAA+B;IAC7B,MAAIlB,IAAI,GAAGhB,MAAM,CAACgB,IAAP,CAAYkB,MAAZ,CAAX;IACAlB,EAAAA,IAAI,CAAC/F,OAAL,CAAa,UAAAgG,GAAG,EAAI;IAClB,QAAIpB,KAAK,CAACD,OAAN,CAAcsC,MAAM,CAACjB,GAAD,CAApB,CAAJ,EAAgC;IAC9B;IACA,WAAK,IAAIpD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqE,MAAM,CAACjB,GAAD,CAAN,CAAYzJ,MAAhC,EAAwCqG,CAAC,EAAzC,EAA6C;IAC3C,YAAIsE,OAAO,GAAGD,MAAM,CAACjB,GAAD,CAAN,CAAYpD,CAAZ,CAAd;IACAuE,QAAAA,WAAW,CAAC7F,EAAD,EAAK0E,GAAL,EAAUkB,OAAV,CAAX;IACD;IACF,KAND,MAMO;IACL,UAAIA,QAAO,GAAGD,MAAM,CAACjB,GAAD,CAApB;IACAmB,MAAAA,WAAW,CAAC7F,EAAD,EAAK0E,GAAL,EAAUkB,QAAV,CAAX;IACD;IACF,GAXD;IAYD;;IAED,SAASC,WAAT,CAAqB7F,EAArB,EAAyB1D,IAAzB,EAA+BsJ,OAA/B,EAAwC;IACtC5F,EAAAA,EAAE,CAAC8F,MAAH,CAAUxJ,IAAV,EAAgBsJ,OAAhB,EADsC;IAEvC;;IAED,SAASP,YAAT,CAAsBrF,EAAtB,EAA0B+F,SAA1B,EAAqC;IACnC,MAAItB,IAAI,GAAGhB,MAAM,CAACgB,IAAP,CAAYsB,SAAZ,CAAX;IACA,MAAMC,UAAU,GAAGhG,EAAE,CAACiG,mBAAH,GAAyB,EAA5C;IACAxB,EAAAA,IAAI,CAAC/F,OAAL,CAAa,UAAAgG,GAAG,EAAI;IAClB,QAAIwB,OAAO,GAAGH,SAAS,CAACrB,GAAD,CAAvB,CADkB;;IAElB,QAAInE,MAAM,GAAG,OAAO2F,OAAP,IAAkB,UAAlB,GAA+BA,OAA/B,GAAyCA,OAAO,CAAClF,GAA9D;IACA,QAAIvC,OAAO,GAAG0H,cAAc,CAACnG,EAAD,EAAKO,MAAL,EAAa,YAAI,EAAjB,EAAqB;IAACF,MAAAA,IAAI,EAAE;IAAP,KAArB,CAA5B,CAHkB;;IAIlB2F,IAAAA,UAAU,CAACtB,GAAD,CAAV,GAAkBjG,OAAlB;IACA2H,IAAAA,aAAa,CAACpG,EAAD,EAAK0E,GAAL,CAAb,CALkB;IAMnB,GAND;IAOD;;IAED,SAASyB,cAAT,CAAwBnG,EAAxB,EAA4BO,MAA5B,EAAoCtB,EAApC,EAAwCkB,OAAxC,EAAiD;IAC/C,SAAO,IAAIJ,OAAJ,CAAYC,EAAZ,EAAgBO,MAAhB,EAAwBtB,EAAxB,EAA4BkB,OAA5B,CAAP;IACD;;IAED,SAASiG,aAAT,CAAuBpG,EAAvB,EAA2B0E,GAA3B,EAAgCwB,OAAhC,EAAyC;IACvC,MAAIG,aAAa,GAAG,EAApB,CADuC;IAGvC;IACA;IACA;IACA;IACA;;IACAA,EAAAA,aAAa,CAACrF,GAAd,GAAoBsF,oBAAoB,CAAC5B,GAAD,CAAxC;IACAjB,EAAAA,MAAM,CAACY,cAAP,CAAsBrE,EAAtB,EAA0B0E,GAA1B,EAA+B2B,aAA/B;IACD;;IAED,SAASC,oBAAT,CAA8B5B,GAA9B,EAAmC;IACjC,SAAO,SAAS6B,cAAT,GAA0B;IAC/B,QAAI9H,OAAO,GAAG,KAAKwH,mBAAL,CAAyBvB,GAAzB,CAAd;;IACA,QAAIjG,OAAO,CAAC6B,KAAZ,EAAmB;IACjBsC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;IACApE,MAAAA,OAAO,CAAC+H,QAAR;IACD;;IACD,QAAInI,GAAG,CAACE,MAAR,EAAgB;IACdE,MAAAA,OAAO,CAAC8C,MAAR;IACD;;IACD,WAAO9C,OAAO,CAAClC,KAAf;IACD,GAVD;IAWD;;IC3FD,SAASkK,SAAT,CAAmB1D,GAAnB,EAAwB;IACtBA,EAAAA,GAAG,CAACC,SAAJ,CAAc0D,KAAd,GAAsB,UAASvG,OAAT,EAAkB;IACtC,QAAMH,EAAE,GAAG,IAAX,CADsC;;IAEtCA,IAAAA,EAAE,CAACkF,QAAH,GAAc/E,OAAO,IAAI,EAAzB,CAFsC;;IAGtC8E,IAAAA,UAAU,CAACjF,EAAD,CAAV,CAHsC;IAKtC;;IACA,QAAIG,OAAO,CAACiC,EAAZ,EAAgB;IACd,WAAKuE,MAAL,CAAYxG,OAAO,CAACiC,EAApB;IACD;IACF,GATD;;IAWAW,EAAAA,GAAG,CAACC,SAAJ,CAAc2D,MAAd,GAAuB,UAASvE,EAAT,EAAa;IAClC,QAAMpC,EAAE,GAAG,IAAX;IACA,QAAMG,OAAO,GAAGH,EAAE,CAACkF,QAAnB;;IACA,QAAI,CAAC/E,OAAO,CAACjC,MAAb,EAAqB;IACnB;IACAkE,MAAAA,EAAE,GAAGC,QAAQ,CAACuE,aAAT,CAAuBxE,EAAvB,CAAL;IACApC,MAAAA,EAAE,CAACiD,GAAH,GAASb,EAAT;IACA,UAAIrE,QAAQ,GAAGoC,OAAO,CAACpC,QAAvB;;IACA,UAAG,CAACA,QAAD,IAAaqE,EAAhB,EAAoB;IAClBrE,QAAAA,QAAQ,GAAGqE,EAAE,CAACyE,SAAd;IACD;;IACD1G,MAAAA,OAAO,CAACjC,MAAR,GAAiBJ,iBAAiB,CAACC,QAAD,CAAlC;IACD;;IAEDyE,IAAAA,cAAc,CAACxC,EAAD,CAAd;IACD,GAfD;;IAiBA+C,EAAAA,GAAG,CAACC,SAAJ,CAAc8C,MAAd,GAAuB,UAASxJ,IAAT,EAAesJ,OAAf,EAAsC;IAAA,QAAdzF,OAAc,uEAAJ,EAAI;IAC3D;IACAA,IAAAA,OAAO,CAACC,IAAR,GAAe,IAAf;IACA,QAAIL,OAAJ,CAAY,IAAZ,EAAkBzD,IAAlB,EAAwBsJ,OAAxB,EAAiCzF,OAAjC;IACD,GAJD;IAKD;;ICzCM,SAAS7F,eAAT,CAAuB0F,EAAvB,EAA2BvF,GAA3B,EAAwD;IAAA,MAAxB0H,IAAwB,uEAAjB,EAAiB;;IAAA,oCAAVxH,QAAU;IAAVA,IAAAA,QAAU;IAAA;;IAC7D,SAAOgH,KAAK,CAAC3B,EAAD,EAAKvF,GAAL,EAAU0H,IAAV,EAAgBA,IAAI,CAACuC,GAArB,EAA0B/J,QAA1B,EAAoCoG,SAApC,CAAZ;IACD;IAEM,SAAS+F,iBAAT,CAA2B9G,EAA3B,EAA+BnF,IAA/B,EAAqC;IAC1C,SAAO8G,KAAK,CAAC3B,EAAD,EAAKe,SAAL,EAAgBA,SAAhB,EAA2BA,SAA3B,EAAsCA,SAAtC,EAAiDlG,IAAjD,CAAZ;IACD;;IAED,SAAS8G,KAAT,CAAe3B,EAAf,EAAmBvF,GAAnB,EAAwB0H,IAAxB,EAA8BuC,GAA9B,EAAmC/J,QAAnC,EAA6CE,IAA7C,EAAmD;IACjD,SAAO;IACLmF,IAAAA,EAAE,EAAFA,EADK;IAELvF,IAAAA,GAAG,EAAHA,GAFK;IAGL0H,IAAAA,IAAI,EAAJA,IAHK;IAILuC,IAAAA,GAAG,EAAHA,GAJK;IAKL/J,IAAAA,QAAQ,EAARA,QALK;IAMLE,IAAAA,IAAI,EAAJA;IANK,GAAP;IAQD;;ICfM,SAASkM,eAAT,CAAyBhE,GAAzB,EAA8B;IACnCA,EAAAA,GAAG,CAACC,SAAJ,CAAcL,OAAd,GAAwB,UAAS3C,EAAT,EAAa;IACnC,QAAI2B,KAAK,GAAG3B,EAAE,CAACkF,QAAH,CAAYhH,MAAZ,CAAmBgD,IAAnB,CAAwBlB,EAAxB,CAAZ;IACA,WAAO2B,KAAP;IACD,GAHD;;IAKAoB,EAAAA,GAAG,CAACC,SAAJ,CAAcgE,EAAd,GAAmB,YAAW;IAC5B,WAAO1M,eAAa,MAAb,UAAc,IAAd,oCAAuBuD,SAAvB,GAAP;IACD,GAFD;;IAIAkF,EAAAA,GAAG,CAACC,SAAJ,CAAciE,EAAd,GAAmB,UAASpM,IAAT,EAAe;IAChC,WAAOiM,iBAAiB,CAAC,IAAD,EAAOjM,IAAP,CAAxB;IACD,GAFD;;IAIAkI,EAAAA,GAAG,CAACC,SAAJ,CAAckE,EAAd,GAAmB,UAAS3K,KAAT,EAAgB;IACjC,WAAO,QAAOA,KAAP,MAAiB,QAAjB,GAA4Be,IAAI,CAACC,SAAL,CAAehB,KAAf,CAA5B,GAAoDA,KAA3D;IACD,GAFD;IAGD;;ICfD,SAASwG,GAAT,CAAa5C,OAAb,EAAsB;IACpB,OAAKuG,KAAL,CAAWvG,OAAX;IACD;;IACDsG,SAAS,CAAC1D,GAAD,CAAT;IACAgE,eAAe,CAAChE,GAAD,CAAf;IACAD,cAAc,CAACC,GAAD,CAAd;;;;;;;;"}